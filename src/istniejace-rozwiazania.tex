\chapter{Istniejące rozwiązania}

\section{LoRaWAN}

LoRaWAN (ang. LoRa Wide Area Network) to protokół komunikacji stworzony przez \texttt{LoRa Alliance}~\cite{lora:about}.
Protokół ten został stworzony z myślą o~zastosowaniach w sieciach \texttt{IoT}.
Protokół ten jest oparty o~protokół \texttt{LoRa}, i~pozwala na budowę sieci \texttt{LoRa} w~oparciu o~bramy.
Węzły sieci komunikują się z~bramami, a~bramy przekazują dane do serwera.
Serwer jest odpowiedzialny za przetworzenie danych i~przekazanie ich do aplikacji użytkownika.

% \section{The Things Network}

% \section{ChirpStack ?}
% \section{Loriot ?}


\section{Artykuły}
\subsection{\texttt{LoRaMesher}}
Badacze w artykule zaproponowali otwartoźródłową implementację autorskiego protokołu \texttt{LoRaMesher}~\cite{bib:loramesher} w postaci darmowej biblioteki.
Biblioteka ta pozwala na budowę sieci opartej o~\texttt{LoRa} bez użycia bram.
Autorzy zaimplementowali protokół w~języku C++ z~użyciem systemu FreeRTOS.
Biblioteka została przetestowana na platformie \texttt{ESP32}.

W artykule przedstawiono wyniki testów przeprowadzonych w rzeczywistych warunkach.
Wiadomości były wysyłane co 120 sekund, a wiadomości routingowe co 300 sekund.
Testy zostały przeprowadzone w trzech różnych scenariuszach:

\begin{itemize}
    \item Sieć złożona z 10 węzłów sieci, oddalone od siebie o~jeden skok. W~takiej sieci wskaźnik dostarczenia pakietów wynosił 90\%.
    \item Sieć złożona z 10 węzłów, ułożonych w~łańcuch. W tym wypadku wskaźnik dostarczenia pakietów wynosił 96\%.
    \item Sieć złożona z 10 węzłów, w~tym 5~węzłów działało tylko jako przekaźniki. Architektura sieci symulowało użycie biblioteki w~prawdziwym zastosowaniem. W~tym wypadku wskaźnik dostarczenia pakietów wynosił 86\%.
\end{itemize}

Wyniki testów pokazują, że biblioteka działa poprawnie i~może być zastosowana w prawdziwych zastosowaniach.
Jednak w artykule nie zostały przedstawione wyniki testów wydajnościowych, które mogłyby pokazać, jak dużo pakietów może być obsłużonych przez bibliotekę.

W odróżnieniu od rozwiązania zaproponowanego w~artykule, w projekcie zostało zaproponowane rozwiązanie wymagające jednokierunkowej komunikacji z węzłami sieci.
Dzięki temu można zastosować węzły sieci o mniejszej wydajności, co pozwala zarówno na zmniejszenie kosztów projektu, jak i~działania węzłów na baterii.

Biblioteka ta została również przygotowana z~myślą o~zastosowaniach, w~których część działania logiki systemu odbywa się na węzłach sieci.
W projekcie zastosowano rozwiązanie, w~którym cała większego systemu jest zaimplementowana w stacji przekaźnikowej i~aplikacji zapisującej do bazy danych.
Dzięki temu można zastosować węzły sieci o~mniejszej wydajności i~zmniejsz poziom skomplikowania systemu.

\subsection{Monitoring of Large-Area IoT Sensors Using a LoRa Wireless Mesh Network System: Design and Evaluation}

Badacze w podanym artykule~\cite{bib:loramesh-lee} zaproponowali kompletne rozwiązanie umożliwiające monitorowanie dużego obszaru kampusu uniwersyteckiego, w~oparciu tylko o~protokół LoRa.
W odróżnieniu od wyżej opisanego artykułu autorzy zaproponowali rozwiązanie, w~którym to stacja bazowa pobiera dane od poszczególnych węzłów, a~nie węzły samoistnie wysyłają te dane do stacji bazowej.

Główny test został poprzedzony kilkoma mniejszymi testami, które pozwoliły ustalić najlepsze parametry połączenia między węzłami, jak i~ich najlepsze umiejscowienie.

System był testowany przez 8~dni na obszarze 800 na 600 metrów.
Test zawierał jedną stację bazową i~10 węzłów sieci.
Dane były pobierane co 60 sekund.
Wskaźnik dostarczlnośći pakietów uplasował się w~okolicach 88.49\%.

Cechą charakterystyczną tego rozwiązania jest sposób budowania sieci.
Węzeł podczas dołączenia do sieci sam decyduje, przez który z~sąsiadujących węzłów nawiąże komunikacje.
Oczywiście komunikacja może zostać również nawiązana bezpośrednio ze stacją bazową.
Niestety sam proces dołączania nowego urządzenia do sieci i~wyboru węzła-przekaźnika nie jest opisany w tym artykule.
Największą różnicą między tym rozwiązaniem, a~rozwiązaniem zaproponowanym w projekcie jest sposób komunikacji między węzłami.
W projekcie zastosowano rozwiązanie, w~którym węzły nie komunikują się każdy z każdym, a~jedynie z~wybranym węzłem (rodzicem).
Takie rozwiązanie pozwala na zmniejszenie ilości pakietów, które muszą być przetworzone przez węzły sieci, co pozwala na zastosowanie węzłów o mniejszej wydajności.
Jednak węzły muszą być w stanie komunikować się z~wybranym w~nieznanym procesie rodzicem, co może być problematyczne w~przypadku dużych odległości między węzłami.
Co więcej, w~przypadku zerwania połączenia z~przekaźnikiem, węzeł musi ponownie nawiązać połączenie z siecią, co może prowadzić do straty danych.

Drugim znaczącym różnicą jest sposób komunikacji między węzłami sieci.
W projekcie zastosowano rozwiązanie, w~którym to stacja bazowa odpowiada za pobieranie danych od węzłów sieci.
Jednak w~takim rozwiązaniu stacja bazowa musi być w~stanie obsłużyć wszystkie węzły sieci, co może być problematyczne w~przypadku dużych sieci.
Jeżeli stacja ulegnie awarii, tracone.

W przypadku rozwiązania zaproponowanego w~projekcie, stacja bazowa może być zaimplementowana w~taki sposób, aby obsługiwać tylko część węzłów sieci, co pozwala na zastosowanie stacji bazowej o mniejszej wydajności.
W prosty sposób można również zwiększyć wydajność stacji bazowej, poprzez zastosowanie większej ilości tychże.

\subsection{A LoRa-Based Mesh Network for Peer-to-Peer Long-Range Communication}
W podanym artykule~\cite{s21134314} badacze zaproponowali implementację sieci mesh opartej o~protokół LoRa z~wykorzystaniem biblioteki \texttt{RadioHead} i~systemu \texttt{FreeRTOS} na mikrokontrolerach ESP32.
W odróżnieniu od wyżej opisanych artykułów, autorzy zaproponowali rozwiązanie, w~którym to węzły sieci komunikują się ze sobą bezpośrednio, a~nie za pośrednictwem stacji bazowej.
W podanym artykule zostały również przedstawione wyniki testów wydajnościowych, takich jak:
\begin{itemize}
    \item czas potrzebny na przesłanie pakietu między węzłami sieci,
    \item przetwarzanie kilku pakietów między węzłami sieci jednocześnie
    \item skuteczność przesyłu pakietów między węzłami sieci w zależności od odległości między nimi i ustawień transmisji.
\end{itemize}

Wyniki testów pokazują, że biblioteka działa poprawnie i~może być zastosowana w~prawdziwych aplikacjach.
Jednak w~artykule nie zostały przedstawione wyniki testów wydajnościowych, które mogłyby pokazać, jak dużo pakietów może być obsłużonych przez bibliotekę.

Główną różnicą między tym rozwiązaniem a rozwiązaniem zaproponowanym w~projekcie jest sposób komunikacji między węzłami sieci.
W artykule zaproponowano architekturę bez stacji bazowej, więc by dane mogły być przetwarzane poza węzłami sieci, stację bazową należałoby stworzyć we własnym zakresie.
Nie powinno być to trudne, ponieważ mikrokontrolery przesyłają odebrane pakiety przez interfejs UART, więc stacja bazowa mogłaby być zaimplementowana na komputerze PC.
